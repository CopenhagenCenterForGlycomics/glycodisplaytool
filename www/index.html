<!DOCTYPE html>
<html>
<head>
	<title>GlycoRadar: GlycoDisplay interpretation Tool</title>
	<meta charset="utf-8">
	<!-- <script src="/displaytool-bundle.js"></script> -->
	<link href="pageheader.css" rel="stylesheet"></link>
	<style>
		@import url('https://fonts.googleapis.com/css?family=Source+Sans+Pro:400&display=swap');
		:root {
			--logo-background: #4e4e98;
			--logo-background: #FED230;
		}

		:root body {
			margin: 0px;
		}
		x-pastemapper {
			background: #eee;
		}
		x-radar {
			--stroke-width-series0: 2;
			--stroke-series0: red;
			--stroke-width-series1: 2;
			--stroke-series1: blue;
			--fill-series1: rgba(0,0,255,0.2);
		}

		.grid-container {
			font-size: 10pt;
			font-family: 'Source Sans Pro', Helvetica, sans-serif;
			margin-left: 8px;
			margin-right: 8px;
			display: grid;
			height: 100vh;
			grid-template-columns: 1fr 1fr 1fr 1fr;
			grid-template-rows: 0.2fr 1fr;
			grid-template-areas: "inputs inputs connectivity connectivity" "Radar Radar Radar savedgenes";
		}

		#outputs {
			grid-area: Radar;
			width: 100%;
			height: 100%;
			overflow: hidden;
			display: flex;
			flex-direction: column;
		}
		#inputs {
			grid-area: inputs;
		}

		#inputs, #outputs {
			margin-left: 0.5em;
			margin-right: 0.5em;
		}

		h2.step {
			position: relative;
			padding-left: 2.5em;
			padding-top: 0.25em;
			padding-bottom: 0.25em;
		}

		#inputs h2.step:before {
			content: '①';
		}
		#outputs h2.step:before {
			content: '②';
		}
		#step3 h2.step:before {
			content: '③';
		}
		#step4 h2.step:before {
			content: '④';
		}

		h2.step:before {
			font-size: 1.75em;
			position: absolute;
			top: 0;
			left: 0;
			width: 1em;
			height: 100%;
			display:flex;
			flex-direction:row;
			align-items: center;
			justify-content: center;
  		}
		#savedgenes div.savedlist {
			grid-area: savedgenes;
			border: solid rgba(99,99,99,0.5) 1px;
			border-radius: 5px;
			box-shadow: 5px 5px 5px 0px rgba(99,99,99,0.5);
			width: calc(100% - 5px - 20px);
			height: calc(100% - 5px);
		}

		div.savedlist > * {
			margin-left: 15px;
		}

		.savedgene *:nth-child(1) {
			flex: 1 1 auto;
			align-self: auto;
		}

		.savedgene *:nth-child(2) {
			flex: 0 0 auto;
			align-self: auto;
		}
		div.savedgene {
			width: calc(100% - 30px);
			display:flex;
			flex-direction:row;
			align-items: center;
			justify-content: center;
		}
		.resultgene {
			margin-right: 1em;
		}
		.resultgene span {
			margin-right: 0.25em;
		}
		#savedgenes div.connectivity {
			grid-area: connectivity;
		}

	</style>
</head>
<body>
<section class="logo bright">
  <h1>GlycoDisplay interpretation tool</h1>
  <a class="center" href="https://glycomics.ku.dk"></a>
</section>
<section class="grid-container">
<div id="inputs">
	<h2 class="step">Input binding data</h2>
<x-pastemapper id="pastemapper"></x-pastemapper>
 <x-vue id="cutoffdisp" props="cutoff">
 	<div slot="output"></div>
<label>Baseline value<input type="range" id="cutoff" v-model="cutoff"/>
<input v-model="cutoff"/></label>
</x-vue>
</div>
<div id="outputs">
	<div>
	<x-vue id="resultgenes" props="genes">
		<div slot="output"></div>
		<h2 class="step">Select genes interpreted from radar chart</h2>
		<span class="resultgene" v-for="gene in genes" :key="gene.gene">
			<span>{{gene.gene}} {{gene.result}}</span><button class="save" :data-gene="gene.gene">Save</button>
		</span>
	</x-vue>
	</div>
	<x-radar></x-radar>
</div>
<x-vue id="savedgenes" props="genes">
	<div slot="output"></div>
	<div class="savedlist">
	<h2>Saved genes</h2>
	<div class="savedgene" v-for="gene in genes" :key="gene">
		<span>{{gene}}</span><button @click="genes.splice(genes.indexOf(gene),1)">Clear</button>
	</div>
	</div>
	<div class="connectivity">
		<h2>Epitope heatmap results</h2>
		<heatmap :genes="genes || []"></heatmap>
	</div>
</x-vue>
</section>
</body>
</html>