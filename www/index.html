<!DOCTYPE html>
<html>
<head>
	<title>GlycoRadar: GlycoDisplay interpretation Tool</title>
	<script src="/displaytool-bundle.js"></script>
	<link href="pageheader.css" rel="stylesheet"></link>
	<style>
		@import url('https://fonts.googleapis.com/css?family=Source+Sans+Pro:400&display=swap');
		:root {
			--logo-background: #4e4e98;
			--logo-background: #FED230;
		}

		:root body {
			margin: 0px;
		}
		x-pastemapper {
			background: #eee;
		}
		x-radar {
			--stroke-width-series0: 2;
			--stroke-series0: red;
			--stroke-width-series1: 2;
			--stroke-series1: blue;
			--fill-series1: rgba(0,0,255,0.2);
		}

		.grid-container {
			font-size: 10pt;
			font-family: 'Source Sans Pro', Helvetica, sans-serif;
			margin-left: 8px;
			margin-right: 8px;
			display: grid;
			grid-template-columns: 1fr 1fr 1fr 1fr;
			grid-template-rows: 0.2fr 1fr;
			grid-template-areas: "inputs inputs connectivity connectivity" "savedgenes Radar Radar Radar";
		}

		#outputs {
			grid-area: Radar;
		}
		#inputs {
			grid-area: inputs;
			margin-left: 0.5em;
			margin-right: 0.5em;
		}


		h2.step {
			position: relative;
			padding-left: 2.5em;
			padding-top: 0.25em;
			padding-bottom: 0.25em;
		}

		#inputs h2.step:before {
			content: '①';
		}
		#outputs h2.step:before {
			content: '②';
		}
		#step3 h2.step:before {
			content: '③';
		}
		#step4 h2.step:before {
			content: '④';
		}

		h2.step:before {
			font-size: 1.75em;
			position: absolute;
			top: 0;
			left: 0;
			width: 1em;
			height: 100%;
			display:flex;
			flex-direction:row;
			align-items: center;
			justify-content: center;
  		}
		#savedgenes div.savedlist {
			grid-area: savedgenes;
		}

		#savedgenes div.connectivity {
			grid-area: connectivity;
		}

	</style>
</head>
<body>
<section class="logo bright">
  <h1>GlycoDisplay interpertation tool</h1>
  <a class="center" href="https://glycomics.ku.dk"></a>
</section>
<section class="grid-container">
<div id="inputs">
	<h2 class="step">Input binding data</h2>
<x-pastemapper id="pastemapper"></x-pastemapper>
<label>Baseline value<input type="range" id="cutoff"/> <x-vue id="cutoffdisp" props="cutoff">{{cutoff}}</x-vue></label>
</div>
<div id="outputs">
	<x-vue id="resultgenes" props="genes">
		<div slot="output"></div>
		<h2 class="step">Select genes interpreted from radar chart</h2>
		<div v-for="gene in genes" :key="gene.gene">
			Binding changes when {{gene.gene}} is {{gene.result}} <button class="save" :data-gene="gene.gene">Save</button>
		</div>
	</x-vue>
	<x-radar></x-radar>
</div>
<x-vue id="savedgenes" props="genes">
	<div slot="output"></div>
	<div class="savedlist">
	<h2>Saved genes</h2>
	<div v-for="gene in genes" :key="gene">
		{{gene}}<button @click="genes.splice(genes.indexOf(gene),1)">Clear</button>
	</div>
	</div>
	<div class="connectivity">
		<h2>Epitope heatmap results</h2>
		<heatmap :genes="genes || []"></heatmap>
		<div :data-savedgenes="(genes || []).join(' ')">{{ (genes || []).join(' ') }}</div>
	</div>
</x-vue>
</section>
</body>
</html>